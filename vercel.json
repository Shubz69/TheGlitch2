{
  "version": 2,
  "buildCommand": "npm install && npm run build",
  "outputDirectory": "build",
  "installCommand": "npm install",
  "devCommand": "npm start",
  "functions": {
    "api/**/*.js": {
      "maxDuration": 30
    }
  },
  "rewrites": [
    {
      "source": "/api/courses",
      "destination": "/api/courses.js"
    },
    {
      "source": "/api/community/channels",
      "destination": "/api/community/channels.js"
    },
    {
      "source": "/api/community/channels/:channelId/messages",
      "destination": "/api/community/channels/messages.js?channelId=:channelId"
    },
    {
      "source": "/api/stripe/create-subscription",
      "destination": "/api/stripe/create-subscription.js"
    },
    {
      "source": "/api/stripe/direct-checkout",
      "destination": "/api/stripe/direct-checkout.js"
    },
    {
      "source": "/api/auth/login",
      "destination": "/api/auth/login.js"
    },
    {
      "source": "/api/auth/password-reset",
      "destination": "/api/auth/password-reset.js"
    },
    {
      "source": "/api/auth/signup-verification",
      "destination": "/api/auth/signup-verification.js"
    },
    {
      "source": "/api/auth/send-mfa",
      "destination": "/api/auth/mfa.js"
    },
    {
      "source": "/api/auth/verify-mfa",
      "destination": "/api/auth/mfa.js"
    },
    {
      "source": "/api/community/users",
      "destination": "/api/community/index.js"
    },
    {
      "source": "/api/admin/user-status",
      "destination": "/api/admin/index.js"
    },
    {
      "source": "/api/contact",
      "destination": "/api/admin/index.js"
    }
  ]
}